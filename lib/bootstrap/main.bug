(include "../lib/core/main.bug")
(include "../lib/compiler/read.bug")
(include "../lib/compiler/ops.bug")
(include "../lib/compiler/compile.bug")
(include "../lib/compiler/repl.bug")

"compile core just so we have the macros at runtime (something that we usually wouldn't want) --
 there should be some way to just get macros/functions bound to symbols
 maybe 'images' are a solution to this."
(let ((core (open-file "../lib/core/main.bug" "rb")))
  (compile (read-entire-file core)))
(repl)